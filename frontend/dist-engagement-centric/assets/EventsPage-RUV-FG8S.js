import{j as e}from"./index-B207SZID.js";import{r as s}from"./react-vendor-B4Ig0bS4.js";import{h as a}from"./api-BZlasLbO.js";import{S as n}from"./SEO-CFVvOxQp.js";import"./ui-vendor-B5K7MVzt.js";const t=()=>{var t;const[i,l]=s.useState([]),[c,r]=s.useState([]),[o,d]=s.useState(!0),[m,v]=s.useState("all"),[h,u]=s.useState(null),p=[{value:"all",label:"All Events"},{value:"live_space",label:"Live Spaces"},{value:"community_dialogue",label:"Community Dialogues"},{value:"workshop",label:"Workshops"},{value:"public_campaign",label:"Public Campaigns"},{value:"town_hall",label:"Town Halls"}];s.useEffect(()=>{g()},[]);const g=async()=>{try{d(!0);const[e,s]=await Promise.all([a({status:"upcoming",limit:20}),a({status:"past",limit:20})]);l(e),r(s)}catch(e){}finally{d(!1)}},j=e=>"all"===m?e:e.filter(e=>e.event_type===m),x=e=>{u(e)},N=()=>{u(null)},y=j(i),b=j(c);return e.jsxs("div",{className:"events-page",children:[e.jsx(n,{title:"Events",description:"Join us for community gatherings, workshops, and civic dialogues. Discover upcoming events and past highlights from Resistance Radio.",keywords:["events","community events","workshops","civic dialogue","zimbabwe events"],url:"/events"}),e.jsxs("div",{className:"container",children:[e.jsx("h1",{children:"Events & Community"}),e.jsx("p",{className:"intro",children:"Join us for live conversations, workshops, and community gatherings that strengthen civic engagement."}),e.jsx("div",{className:"event-type-filter",children:p.map(s=>e.jsx("button",{className:"filter-btn "+(m===s.value?"active":""),onClick:()=>v(s.value),children:s.label},s.value))}),o?e.jsx("div",{className:"loading",children:"Loading events..."}):e.jsxs(e.Fragment,{children:[e.jsxs("section",{className:"upcoming-events",children:[e.jsx("h2",{children:"Upcoming Events"}),0===y.length?e.jsx("div",{className:"no-events",children:"all"!==m?"No upcoming events in this category.":"No upcoming events scheduled yet."}):e.jsx("div",{className:"events-grid",children:y.map(s=>{var a,n;return e.jsxs("div",{className:"event-card upcoming",onClick:()=>x(s),children:[s.image_url&&e.jsx("div",{className:"event-image",children:e.jsx("img",{src:s.image_url,alt:s.title})}),e.jsxs("div",{className:"event-content",children:[e.jsxs("div",{className:"event-header",children:[e.jsx("span",{className:"event-type-badge",children:(null==(a=p.find(e=>e.value===s.event_type))?void 0:a.label)||s.event_type}),e.jsx("span",{className:"event-date-badge",children:(n=s.event_date,new Date(n).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}))})]}),e.jsx("h3",{children:s.title}),e.jsx("p",{className:"event-description",children:s.description}),e.jsxs("div",{className:"event-footer",children:[e.jsxs("span",{className:"event-location",children:["ðŸ“ ",s.location]}),s.registration_url&&e.jsx("span",{className:"register-indicator",children:"Register â†’"})]})]})]},s.id)})})]}),e.jsxs("section",{className:"past-events",children:[e.jsx("h2",{children:"Past Events Archive"}),e.jsx("p",{className:"section-intro",children:"Browse recordings and summaries of past community events"}),0===b.length?e.jsx("div",{className:"no-events",children:"all"!==m?"No past events in this category.":"No past events available yet."}):e.jsx("div",{className:"archive-list",children:b.map(s=>{var a;return e.jsxs("div",{className:"archive-item",onClick:()=>x(s),children:[e.jsxs("div",{className:"archive-date",children:[e.jsx("span",{className:"month",children:new Date(s.event_date).toLocaleDateString("en-US",{month:"short"})}),e.jsx("span",{className:"day",children:new Date(s.event_date).getDate()})]}),e.jsxs("div",{className:"archive-content",children:[e.jsx("span",{className:"event-type-badge",children:(null==(a=p.find(e=>e.value===s.event_type))?void 0:a.label)||s.event_type}),e.jsx("h3",{children:s.title}),e.jsx("p",{children:s.description}),e.jsxs("span",{className:"event-location",children:["ðŸ“ ",s.location]})]})]},s.id)})})]})]})]}),h&&e.jsx("div",{className:"event-modal-overlay",onClick:N,children:e.jsxs("div",{className:"event-modal",onClick:e=>e.stopPropagation(),children:[e.jsx("button",{className:"modal-close",onClick:N,children:"Ã—"}),h.image_url&&e.jsx("div",{className:"modal-image",children:e.jsx("img",{src:h.image_url,alt:h.title})}),e.jsxs("div",{className:"modal-content",children:[e.jsx("span",{className:"event-type-badge",children:(null==(t=p.find(e=>e.value===h.event_type))?void 0:t.label)||h.event_type}),e.jsx("h2",{children:h.title}),e.jsxs("div",{className:"modal-meta",children:[e.jsxs("div",{className:"meta-item",children:[e.jsx("strong",{children:"Date & Time:"}),e.jsx("span",{children:(_=h.event_date,new Date(_).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"2-digit"}))})]}),e.jsxs("div",{className:"meta-item",children:[e.jsx("strong",{children:"Location:"}),e.jsx("span",{children:h.location})]}),e.jsxs("div",{className:"meta-item",children:[e.jsx("strong",{children:"Status:"}),e.jsx("span",{className:`status-badge ${h.status}`,children:"upcoming"===h.status?"Upcoming":"Past Event"})]})]}),e.jsx("p",{className:"modal-description",children:h.description}),h.registration_url&&"upcoming"===h.status&&e.jsx("a",{href:h.registration_url,target:"_blank",rel:"noopener noreferrer",className:"btn btn-primary",children:"Register for Event"})]})]})})]});var _};export{t as default};
