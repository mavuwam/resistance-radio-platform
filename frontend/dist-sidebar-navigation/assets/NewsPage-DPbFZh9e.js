import{j as e}from"./index-DXT0uy8Q.js";import{r as s,L as a}from"./react-vendor-B4Ig0bS4.js";import{e as l}from"./api-BZlasLbO.js";import{S as i}from"./SEO-ZFGY5Fm-.js";import"./ui-vendor-B5K7MVzt.js";const t=()=>{var t;const[c,r]=s.useState([]),[n,o]=s.useState([]),[d,m]=s.useState(!0),[u,h]=s.useState("all"),[j,v]=s.useState("desc"),x=[{value:"all",label:"All"},{value:"civic_explainer",label:"Civic Explainers"},{value:"constitutional_summary",label:"Constitutional Summaries"},{value:"event_reflection",label:"Event Reflections"},{value:"guest_essay",label:"Guest Essays"},{value:"analysis",label:"Analysis"}];s.useEffect(()=>{N()},[j]),s.useEffect(()=>{g()},[c,u]);const N=async()=>{try{m(!0);const e=await l({limit:50,sort:"published_at",order:j});r(e)}catch(e){}finally{m(!1)}},g=()=>{o("all"===u?c:c.filter(e=>e.category===u))},y=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),f=n[0],p=n.slice(1);return e.jsxs("div",{className:"news-page",children:[e.jsx(i,{title:"News & Insights",description:"Short, accessible reflections on the issues shaping our civic life. Stay informed with news and analysis from Resistance Radio.",keywords:["news","zimbabwe news","civic insights","analysis","commentary"],url:"/news"}),e.jsxs("div",{className:"container",children:[e.jsx("h1",{children:"News & Insights"}),e.jsx("p",{className:"intro",children:"Short, accessible reflections on the issues shaping our civic life."}),d?e.jsx("div",{className:"loading",children:"Loading articles..."}):e.jsxs(e.Fragment,{children:[f&&e.jsxs("section",{className:"featured-section",children:[e.jsx("div",{className:"featured-label",children:"Featured Article"}),e.jsxs(a,{to:`/news/${f.slug}`,className:"featured-article",children:[f.image_url&&e.jsx("div",{className:"featured-image",children:e.jsx("img",{src:f.image_url,alt:f.title})}),e.jsxs("div",{className:"featured-content",children:[e.jsx("span",{className:"article-category",children:(null==(t=x.find(e=>e.value===f.category))?void 0:t.label)||f.category}),e.jsx("h2",{children:f.title}),e.jsx("p",{className:"article-summary",children:f.summary}),e.jsxs("div",{className:"article-meta",children:[e.jsxs("span",{className:"author",children:["By ",f.author]}),e.jsx("span",{className:"date",children:y(f.published_at)})]})]})]})]}),e.jsxs("section",{className:"content-controls",children:[e.jsx("div",{className:"type-filter",children:x.map(s=>e.jsx("button",{className:"filter-btn "+(u===s.value?"active":""),onClick:()=>h(s.value),children:s.label},s.value))}),e.jsxs("div",{className:"sort-controls",children:[e.jsx("button",{className:"sort-btn "+("desc"===j?"active":""),onClick:()=>v("desc"),children:"Newest First"}),e.jsx("button",{className:"sort-btn "+("asc"===j?"active":""),onClick:()=>v("asc"),children:"Oldest First"})]})]}),0===p.length?e.jsx("div",{className:"no-articles",children:"all"!==u?"No articles found in this category.":"No articles available yet."}):e.jsx("div",{className:"articles-grid",children:p.map(s=>{var l;return e.jsxs(a,{to:`/news/${s.slug}`,className:"article-card",children:[s.image_url&&e.jsx("div",{className:"article-image",children:e.jsx("img",{src:s.image_url,alt:s.title})}),e.jsxs("div",{className:"article-content",children:[e.jsx("span",{className:"article-category",children:(null==(l=x.find(e=>e.value===s.category))?void 0:l.label)||s.category}),e.jsx("h3",{children:s.title}),e.jsx("p",{className:"article-summary",children:s.summary}),e.jsxs("div",{className:"article-meta",children:[e.jsxs("span",{className:"author",children:["By ",s.author]}),e.jsx("span",{className:"date",children:y(s.published_at)})]})]})]},s.id)})})]})]})]})};export{t as default};
