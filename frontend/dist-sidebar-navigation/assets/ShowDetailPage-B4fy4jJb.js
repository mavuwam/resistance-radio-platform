import{u as s,j as e}from"./index-DXT0uy8Q.js";import{d as a,r as i,L as l}from"./react-vendor-B4Ig0bS4.js";import{b as d,c}from"./api-BZlasLbO.js";import"./ui-vendor-B5K7MVzt.js";const o=()=>{const{slug:o}=a(),[n,r]=i.useState(null),[t,h]=i.useState([]),[m,p]=i.useState(!0),{playEpisode:j}=s();i.useEffect(()=>{o&&x()},[o]);const x=async()=>{try{p(!0);const[s,e]=await Promise.all([d(o),c(o)]);r(s),h(e)}catch(s){}finally{p(!1)}},u=s=>{const e=Math.floor(s/3600),a=Math.floor(s%3600/60);return e>0?`${e}h ${a}m`:`${a}m`};return m?e.jsx("div",{className:"show-detail-page",children:e.jsx("div",{className:"container",children:e.jsx("div",{className:"loading",children:"Loading show..."})})}):n?e.jsx("div",{className:"show-detail-page",children:e.jsxs("div",{className:"container",children:[e.jsx(l,{to:"/shows",className:"back-link",children:"← Back to Shows"}),e.jsxs("div",{className:"show-header",children:[e.jsx("div",{className:"show-header-image",children:n.image_url?e.jsx("img",{src:n.image_url,alt:n.title}):e.jsx("div",{className:"show-image-placeholder"})}),e.jsxs("div",{className:"show-header-content",children:[e.jsx("h1",{children:n.title}),e.jsxs("p",{className:"host",children:["Hosted by ",n.host]}),e.jsx("p",{className:"broadcast-schedule",children:n.broadcast_schedule}),e.jsx("p",{className:"description",children:n.description})]})]}),e.jsxs("div",{className:"episodes-section",children:[e.jsx("h2",{children:"Episodes"}),0===t.length?e.jsx("div",{className:"no-episodes",children:"No episodes available yet."}):e.jsx("div",{className:"episodes-list",children:t.map(s=>{return e.jsxs("div",{className:"episode-card",children:[e.jsxs("div",{className:"episode-info",children:[s.episode_number&&e.jsxs("span",{className:"episode-number",children:["Episode ",s.episode_number]}),e.jsx("h3",{children:s.title}),e.jsx("p",{className:"episode-description",children:s.description}),e.jsxs("div",{className:"episode-meta",children:[e.jsx("span",{className:"episode-date",children:(a=s.published_at,new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}))}),e.jsx("span",{className:"episode-duration",children:u(s.duration)})]})]}),e.jsx("button",{className:"btn btn-play",onClick:()=>(s=>{j({title:s.title,showTitle:(null==n?void 0:n.title)||"",audioUrl:s.audio_url,isLive:!1})})(s),children:"▶ Play"})]},s.id);var a})})]})]})}):e.jsx("div",{className:"show-detail-page",children:e.jsxs("div",{className:"container",children:[e.jsx("div",{className:"error",children:"Show not found"}),e.jsx(l,{to:"/shows",className:"btn",children:"Back to Shows"})]})})};export{o as default};
