import{j as e}from"./index-Cbk1lFja.js";import{r as s,L as t}from"./react-vendor-B4Ig0bS4.js";import{a}from"./ui-vendor-B5K7MVzt.js";const i="/api";function d(){const[d,c]=s.useState([]),[n,r]=s.useState(!0),[l,h]=s.useState("");s.useEffect(()=>{o()},[]);const o=async()=>{try{const e=await a.get(`${i}/shows`);c(e.data)}catch(e){h("Failed to load shows")}finally{r(!1)}};return n?e.jsx("div",{className:"loading",children:"Loading shows..."}):e.jsxs("div",{className:"admin-shows-page",children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h1",{children:"Manage Shows"}),e.jsx(t,{to:"/admin/shows/new",className:"btn-primary",children:"+ Create New Show"})]}),l&&e.jsx("div",{className:"error-message",children:l}),e.jsx("div",{className:"shows-table",children:e.jsxs("table",{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Title"}),e.jsx("th",{children:"Host"}),e.jsx("th",{children:"Category"}),e.jsx("th",{children:"Schedule"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:0===d.length?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"empty-state",children:"No shows found. Create your first show!"})}):d.map(s=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("strong",{children:s.title})}),e.jsx("td",{children:s.host_name}),e.jsx("td",{children:s.category}),e.jsx("td",{children:s.broadcast_schedule}),e.jsx("td",{children:e.jsx("span",{className:"status-badge "+(s.is_active?"active":"inactive"),children:s.is_active?"Active":"Inactive"})}),e.jsxs("td",{className:"actions",children:[e.jsx(t,{to:`/admin/shows/${s.id}/edit`,className:"btn-edit",children:"Edit"}),e.jsx("button",{onClick:()=>(async(e,s)=>{if(confirm(`Are you sure you want to delete "${s}"?`))try{await a.delete(`${i}/admin/shows/${e}`),c(d.filter(s=>s.id!==e))}catch(t){alert("Failed to delete show")}})(s.id,s.title),className:"btn-delete",children:"Delete"})]})]},s.id))})]})})]})}export{d as default};
