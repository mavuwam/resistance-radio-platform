import{j as e}from"./index-CDbCG_T3.js";import{d as a,r as t,L as s}from"./react-vendor-B4Ig0bS4.js";import{f as i,e as r}from"./api-BZlasLbO.js";import{S as l}from"./SEO-C-iTPbcs.js";import"./ui-vendor-B5K7MVzt.js";const c=e=>({"@context":"https://schema.org","@type":"Article",headline:e.title,articleBody:e.content,url:`https://resistanceradio.org/news/${e.slug}`,datePublished:e.published_at,...e.updated_at&&{dateModified:e.updated_at},...e.author&&{author:{"@type":"Person",name:e.author}},publisher:{"@type":"Organization",name:"Resistance Radio",logo:{"@type":"ImageObject",url:"https://resistanceradio.org/logo.jpeg"}},...e.image_url&&{image:e.image_url},...e.category&&{articleSection:e.category}}),n=()=>{const{slug:n}=a(),[o,d]=t.useState(null),[h,m]=t.useState([]),[u,p]=t.useState(!0);t.useEffect(()=>{n&&g()},[n]);const g=async()=>{try{p(!0);const e=await i(n);d(e);const a=await r({category:e.category,limit:3});m(a.filter(a=>a.id!==e.id).slice(0,3))}catch(e){}finally{p(!1)}},j=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),x=e=>{if(!o)return;const a=window.location.href,t=o.title;let s="";switch(e){case"twitter":s=`https://twitter.com/intent/tweet?text=${encodeURIComponent(t)}&url=${encodeURIComponent(a)}`;break;case"facebook":s=`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(a)}`;break;case"whatsapp":s=`https://wa.me/?text=${encodeURIComponent(t+" "+a)}`;break;case"email":s=`mailto:?subject=${encodeURIComponent(t)}&body=${encodeURIComponent(a)}`}s&&window.open(s,"_blank","width=600,height=400")};return u?e.jsx("div",{className:"article-page",children:e.jsx("div",{className:"container",children:e.jsx("div",{className:"loading",children:"Loading article..."})})}):o?e.jsxs("div",{className:"article-page",children:[e.jsx(l,{title:o.title,description:o.summary,type:"article",image:o.image_url,url:`/news/${o.slug}`,author:o.author,publishedTime:o.published_at,modifiedTime:o.updated_at,keywords:[o.category,"news","zimbabwe","resistance radio"],schema:c({title:o.title,content:o.content,slug:o.slug,author:o.author,published_at:o.published_at,updated_at:o.updated_at,image_url:o.image_url,category:o.category})}),e.jsxs("div",{className:"container",children:[e.jsx(s,{to:"/news",className:"back-link",children:"â† Back to News"}),e.jsxs("article",{className:"article-content",children:[e.jsxs("header",{className:"article-header",children:[e.jsx("span",{className:"article-category",children:o.category.replace("_"," ")}),e.jsx("h1",{children:o.title}),e.jsxs("div",{className:"article-meta",children:[e.jsxs("span",{className:"author",children:["By ",o.author]}),e.jsx("span",{className:"date",children:j(o.published_at)})]}),e.jsx("p",{className:"article-summary",children:o.summary})]}),o.image_url&&e.jsx("div",{className:"article-image",children:e.jsx("img",{src:o.image_url,alt:o.title})}),e.jsx("div",{className:"article-body",dangerouslySetInnerHTML:{__html:o.content}}),e.jsx("div",{className:"article-footer",children:e.jsxs("div",{className:"share-section",children:[e.jsx("h3",{children:"Share this article"}),e.jsxs("div",{className:"share-buttons",children:[e.jsx("button",{className:"share-btn twitter",onClick:()=>x("twitter"),"aria-label":"Share on Twitter",children:"Twitter"}),e.jsx("button",{className:"share-btn facebook",onClick:()=>x("facebook"),"aria-label":"Share on Facebook",children:"Facebook"}),e.jsx("button",{className:"share-btn whatsapp",onClick:()=>x("whatsapp"),"aria-label":"Share on WhatsApp",children:"WhatsApp"}),e.jsx("button",{className:"share-btn email",onClick:()=>x("email"),"aria-label":"Share via Email",children:"Email"})]})]})})]}),h.length>0&&e.jsxs("section",{className:"related-articles",children:[e.jsx("h2",{children:"Related Articles"}),e.jsx("div",{className:"related-grid",children:h.map(a=>e.jsxs(s,{to:`/news/${a.slug}`,className:"related-card",children:[a.image_url&&e.jsx("div",{className:"related-image",children:e.jsx("img",{src:a.image_url,alt:a.title})}),e.jsxs("div",{className:"related-content",children:[e.jsx("h3",{children:a.title}),e.jsx("p",{className:"related-date",children:j(a.published_at)})]})]},a.id))})]})]})]}):e.jsx("div",{className:"article-page",children:e.jsxs("div",{className:"container",children:[e.jsx("div",{className:"error",children:"Article not found"}),e.jsx(s,{to:"/news",className:"btn",children:"Back to News"})]})})};export{n as default};
